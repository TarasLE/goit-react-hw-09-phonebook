"use strict";(self.webpackChunkgoit_react_hw_09_phonebook=self.webpackChunkgoit_react_hw_09_phonebook||[]).push([[255],{6255:function(t,e,n){n.r(e),n.d(e,{default:function(){return V}});var a=n(2791),r=n(364),c=n(9295),i=n(5861),o=n(7757),s=n.n(o),u=n(4569),l=n.n(u),d=n(6694),m=function(t){return function(){var e=(0,i.Z)(s().mark((function e(n){var a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,d.md)()),e.prev=1,e.next=4,l().post("/contacts",t);case 4:a=e.sent,r=a.data,n((0,d.ff)(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n((0,d.xZ)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},f=function(t){return function(){var e=(0,i.Z)(s().mark((function e(n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,d.us)()),e.prev=1,e.next=4,l().delete("/contacts/".concat(t));case 4:a=e.sent,a.data,n((0,d.uv)(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n((0,d.EF)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},_=function(){return function(){var t=(0,i.Z)(s().mark((function t(e){var n,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e((0,d.AB)()),t.prev=1,t.next=4,l().get("/contacts");case 4:n=t.sent,a=n.data,e((0,d.$s)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e((0,d.AM)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},x=n(885),C="ContactForm_Container__qm9Vs",h="ContactForm_FormInput__zsTjx",v="ContactForm_FormBtn__QfXDU",p="ContactForm_ContactFormNotificationFadeEnter__pcqKI",F="ContactForm_ContactFormNotificationFadeEnterActive__tSU0-",j="ContactForm_ContactFormNotificationFadeExit__+qmbK",b="ContactForm_ContactFormNotificationFadeExitActive__xM41A",g=n(6429),L=n.n(g),N="Notification_Notification__Sau8z",E=n(184);var A=function(t){var e=t.sameContact,n=t.currentNumber;return(0,E.jsx)("div",{className:N,children:e&&n?(0,E.jsxs)("div",{children:[(0,E.jsxs)("h2",{children:[e," is already in contacts"]}),(0,E.jsx)("h3",{children:"Please check name and try again"})]}):(0,E.jsxs)("div",{children:[(0,E.jsx)("h2",{children:"Name or number is epmty"}),(0,E.jsx)("h3",{children:"Please fill data and try again"})]})})};var Z=(0,r.$j)((function(t){return{contacts:t.contacts.items}}),(function(t){return{addContact:function(e){return t(m(e))}}}))((function(t){var e=t.contacts,n=t.addContact,r=(0,a.useState)(""),i=(0,x.Z)(r,2),o=i[0],s=i[1],u=(0,a.useState)(""),l=(0,x.Z)(u,2),d=l[0],m=l[1],f=(0,a.useState)(!1),_=(0,x.Z)(f,2),g=_[0],N=_[1],Z=function(){if(e.find((function(t){return t.name.toLowerCase()===o.toLowerCase()&&t.number.toLowerCase()===d.toLowerCase()}))||""==o||""==d)return N(!0),I(),!0},k=function(){s(""),m("")},I=function(){setTimeout((function(){N(!1)}),2e3)};return(0,E.jsxs)("div",{className:C,children:[(0,E.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),!Z()){var e={id:L().generate(),name:o,number:d};n(e),k()}},children:[(0,E.jsxs)("label",{children:["Name ",(0,E.jsx)("br",{}),(0,E.jsx)("input",{type:"text",value:o,name:"name",onChange:function(t){s(t.target.value)},className:h})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("label",{children:["Number ",(0,E.jsx)("br",{}),(0,E.jsx)("input",{type:"text",value:d,name:"number",onChange:function(t){m(t.target.value)},className:h})]}),(0,E.jsx)("button",{type:"submit",className:v,children:"Add contact"})]}),(0,E.jsx)(c.Z,{in:g,timeout:250,classNames:{enter:p,enterActive:F,exit:j,exitActive:b},unmountOnExit:!0,children:(0,E.jsx)(A,{sameContact:o,currentNumber:d})})]})})),k=n(255),I=function(t){return t.contacts.filter},w=function(t){return t.contacts.items},y={getLoading:function(t){return t.contacts.loading},getFilter:I,getfilteredElements:(0,n(6916).P1)([I,w],(function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getContacts:w},S={Container:"ContactList_Container__OPkvJ",Contact:"ContactList_Contact__sbnpA",DeleteBtn:"ContactList_DeleteBtn__DTBuZ",ContactInfo:"ContactList_ContactInfo__x353n",ContactListItemFadeEnter:"ContactList_ContactListItemFadeEnter__T3QEQ",ContactListItemFadeEnterActive:"ContactList_ContactListItemFadeEnterActive__jScRb",ContactListItemFadeExit:"ContactList_ContactListItemFadeExit__KPO89",ContactListItemFadeExitActive:"ContactList_ContactListItemFadeExitActive__GZ5fT"};var T=(0,r.$j)((function(t){return{filteredContacts:y.getfilteredElements(t),contacts:y.getContacts(t)}}),(function(t){return{deleteContact:function(e){t(f(e))},resetFilter:function(){t((0,d.M6)(""))}}}))((function(t){var e=t.filteredContacts,n=t.contacts,a=t.deleteContact,r=t.resetFilter;return(0,E.jsx)("div",{className:S.Container,children:(0,E.jsx)(k.Z,{component:"ul",classnames:S.ListContainer,children:e.map((function(t){return(0,E.jsx)(c.Z,{timeout:750,classNames:{enter:S.ContactListItemFadeEnter,enterActive:S.ContactListItemFadeEnterActive,exit:S.ContactListItemFadeExit,exitActive:S.ContactListItemFadeExitActive},children:(0,E.jsxs)("li",{className:S.Contact,children:[(0,E.jsxs)("span",{className:S.ContactInfo,children:[t.name," : ",t.number]}),(0,E.jsx)("button",{type:"button",onClick:function(){a(t.id),2==n.length&&r()},className:S.DeleteBtn,children:"Delete"})]})},t.id)}))})})})),D=n(6153);function P(){return(0,E.jsx)("div",{children:(0,E.jsx)(D.Z,{type:"ThreeDots",color:"#ff3b0f",height:100,width:100,timeout:3e3})})}var B="Filter_Container__WjS-m",K="Filter_InputContainer__imTQE",O="Filter_FilterInput__mHRqZ",q="Filter_FilterHeader__dZ6FV",$="Filter_FilterFadeEnter__gUkDT",H="Filter_FilterFadeEnterActive__KWKZR",M="Filter_FilterFadeExit__fA1Sx",Q="Filter_FilterFadeExitActive__6d43z";var z=(0,r.$j)((function(t){return{contacts:t.contacts.items,value:y.getFilter(t)}}),(function(t){return{filter:function(e){return t((0,d.M6)(e.currentTarget.value))}}}))((function(t){var e=t.contacts,n=t.value,a=t.filter;return(0,E.jsx)(c.Z,{in:e.length>1,timeout:250,unmountOnExit:!0,classNames:{enter:$,enterActive:H,exit:M,exitActive:Q},children:(0,E.jsx)("div",{className:B,children:(0,E.jsxs)("label",{className:K,children:[(0,E.jsx)("h1",{className:q,children:"Find contacts by Name"}),(0,E.jsx)("input",{type:"text",value:n,onChange:a,className:O})]})})})})),J="Phonebook_Container__J0bVJ",R="Phonebook_HeaderFadeAppear__KqZSx",U="Phonebook_HeaderFadeAppearActive__c2ojT";var V=(0,r.$j)((function(t){return{contacts:t.contacts.items,isLoadingContats:y.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(_())}}}))((function(t){var e=t.fetchContacts,n=t.contacts,r=t.isLoadingContats;return(0,a.useEffect)((function(){e()}),[]),(0,E.jsx)(c.Z,{in:!0,appear:!0,timeout:500,classNames:{appear:R,appearActive:U},children:(0,E.jsxs)("div",{className:J,children:[(0,E.jsx)(c.Z,{in:!0,appear:!0,timeout:500,classNames:{appear:R,appearActive:U},children:(0,E.jsx)("h1",{children:"Phonebook"})}),(0,E.jsx)(Z,{}),(0,E.jsx)(c.Z,{in:n.length>=1,timeout:0,unmountOnExit:!0,children:(0,E.jsx)(z,{})}),r&&(0,E.jsx)(P,{}),(0,E.jsx)(c.Z,{in:n.length>0,timeout:250,unmountOnExit:!0,children:(0,E.jsx)(T,{})})]})})}))}}]);
//# sourceMappingURL=255.0ecc2bb9.chunk.js.map